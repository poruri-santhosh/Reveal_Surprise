<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Best Teacher Certificate</title>

  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet" />

  <style>
    body {
      font-family: 'Georgia', 'Times New Roman', serif;
      background-color: #fdf6e3;
      display: flex;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      margin: 0;
      padding: 20px;
    }

    .certificate {
      width: 80%;
      max-width: 900px;
      border: 10px solid #8b4513;
      padding: 50px 40px;
      text-align: center;
      background: #fff8dc;
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
      position: relative;
      border-radius: 15px;
      margin-bottom: 20px;
    }

    .certificate h1 {
      font-size: 50px;
      margin-bottom: 10px;
      color: #8b4513;
    }

    .certificate h2 {
      font-size: 36px;
      margin: 20px 0;
      color: #444;
    }

    .certificate p {
      font-size: 20px;
      line-height: 1.6;
      margin: 20px 0;
    }

    /* Signatures section */
    .certificate .signature {
      margin-top: 50px;
      display: flex;
      justify-content: space-around;
      padding: 0 50px;
    }

    .certificate .signature > div {
      text-align: center;
      margin-top: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .certificate .signature .line {
      font-family: 'Pacifico', cursive;
      font-size: 28px;
      margin-bottom: 5px;
      color: #000;
    }

    /* Download button */
    #downloadBtn {
      background-color: #0d40cd;
      color: #fff;
      border: none;
      padding: 15px 30px;
      font-size: 20px;
      border-radius: 10px;
      cursor: pointer;
      box-shadow: 3px 3px 10px rgba(0, 0, 0, 0.3);
      transition: all 0.3s ease-in-out;
    }

    #downloadBtn:hover {
      background-color: #5e7ad6;
      transform: scale(1.05);
    }

    /* Responsive styles */
    @media (max-width: 768px) {
      .certificate {
        padding: 30px 20px;
        width: 95%;
      }

      .certificate h1 {
        font-size: 36px;
      }

      .certificate h2 {
        font-size: 28px;
      }

      .certificate p {
        font-size: 18px;
      }

      .certificate .signature {
        padding: 0 10px;
        flex-direction: column;
      }

      #downloadBtn {
        font-size: 18px;
        padding: 12px 25px;
      }
    }

    @media (max-width: 480px) {
      .certificate h1 {
        font-size: 28px;
      }

      .certificate h2 {
        font-size: 22px;
      }

      .certificate p {
        font-size: 16px;
      }

      .certificate .signature .line {
        font-size: 24px;
      }

      #downloadBtn {
        font-size: 16px;
        padding: 10px 20px;
      }
    }
  </style>
</head>
<body>
  <div class="certificate" id="certificate">
    <h1>Certificate of Excellence</h1>
    <p>
      This certificate is proudly presented to
      <span id="name" style="font-weight: bolder;"></span>
      for being the Best Teacher of
      <span id="teacherDept" style="font-weight: bolder;"></span>. <br />
      Your unwavering dedication, exceptional guidance, and inspiring teaching methods
      have significantly contributed to the academic and personal growth of your students.
      We sincerely appreciate your outstanding efforts and exemplary service in shaping
      the future of our students.
    </p>

    <div class="signature">
      <div>
        <div class="line">Dr. C.V. Raman</div>
        <p>Principal</p>
      </div>
      <div>
        <div class="line">Dr. A.P.J. Abdul Kalam</div>
        <p>Head of Department</p>
      </div>
    </div>
  </div>

  <button id="downloadBtn">Download Certificate as PDF</button>

  <!-- Libraries -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>

  <script>
    // ------------------ Dynamic Text ------------------
    const name = localStorage.getItem('teacherName') || 'Santhosh';
    const dept = localStorage.getItem('teacherDept') || 'AIML';
    const gender = localStorage.getItem('selectedGender') || 'MALE';

    let salutation = gender === 'MALE' ? 'Sir' : gender === 'FEMALE' ? 'Madam' : '';
    document.getElementById('name').textContent =
      name + (salutation ? ' ' + salutation : '');
    document.getElementById('teacherDept').textContent = dept;

    // ------------------ Download PDF ------------------
    const downloadBtn = document.getElementById('downloadBtn');
    downloadBtn.addEventListener('click', () => {
      const certificate = document.getElementById('certificate');

      html2canvas(certificate, { scale: 2 }).then((canvas) => {
        const imgData = canvas.toDataURL('image/png');
        const { jsPDF } = window.jspdf;
        const pdf = new jsPDF({
          orientation: 'landscape',
          unit: 'px',
          format: [canvas.width, canvas.height]
        });

        pdf.addImage(imgData, 'PNG', 0, 0, canvas.width, canvas.height);
        pdf.save(`${name}_Certificate.pdf`);
      });
    });
  </script>
</body>
</html>
